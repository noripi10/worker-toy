<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>worker-toy</title>
		<link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css" />
		<link rel="stylesheet" href="https://unpkg.com/@exampledev/new.css@1.1.2/new.css" />
		<script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
	</head>
	<body>
		<div id="root"></div>
		<script type="text/babel">
			const App = () => {
				const { useState, useEffect } = React;
				const baseUrl = 'https://worker-toy.noripi10.workers.dev';

				const [result, setResult] = useState('');

				const handleRequest = async (request) => {
					if (request === 'kv-list') {
						const response = await fetch(`${baseUrl}/kv-list`);
						const list = await response.json();
						setResult(JSON.stringify(list));
					}
				};

				return (
					<main>
						<h1>WORKER TOY</h1>

						<div>
							<button onClick={() => handleRequest('kv-list')}>Request - kv-list</button>
						</div>

						<div>
							<div>RESULT:</div>
							<div>{result}</div>
						</div>
					</main>
				);
			};

			const container = document.getElementById('root');
			if (container) {
				ReactDOM.createRoot(container).render(<App />);
			}
		</script>
	</body>
</html>
